/* ========== Core layout ========== */
.cpress{
  font-family:inherit;
  line-height:1.65;
  font-size:0.95em;              /* tad smaller lyrics + chords */

  /* diagram sizing vars */
  --cpress-diagram: 88px;
  --cpress-gap: .35rem;
}
.cpress-section{margin-top:1rem;margin-bottom:.35rem;font-weight:700;letter-spacing:.2px}
.cpress-line{white-space:pre-wrap;margin:.1rem 0}

/* Inline chord chips (Stu’s formatting) */
.cpress-chord{
  background:#fff3b0;
  border-radius:6px;
  padding:0 .35rem;
  font-weight:700;
  border-bottom:none;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.06);
  display:inline-block
}

/* Song meta injected above content on single-song (if used) */
.song-meta{margin:.5rem 0 1.25rem;color:#6b7280}

/* Hide theme author/date on Song CPT (KEEP post-terms visible) */
body.single-song .wp-block-post-author,
body.single-song .wp-block-post-author-name,
body.single-song .wp-block-post-date{display:none !important}

/* ===== Artist & Decade: inline and aligned with content/title ===== */
body.single-song .taxonomy-artist.wp-block-post-terms,
body.single-song .taxonomy-decade.wp-block-post-terms{
  display:inline-block;
  vertical-align:baseline;
  margin:0 !important;
  padding:0;
  font-size:0.9rem;
  color:#6b7280;
  line-height:1.3;
}
body.single-song .wp-block-group:has(> .taxonomy-artist.wp-block-post-terms),
body.single-song .wp-block-group:has(> .taxonomy-decade.wp-block-post-terms){
  max-width: var(--wp--style--global--content-size);
  margin-left:auto !important;
  margin-right:auto !important;
  padding-left:0;
  padding-right:0;
}
body.single-song .wp-block-post-terms{ margin-left:0 !important; }

/* ===== Diagrams: max 6 per row ===== */
.cpress-diagrams{
  display:flex; flex-wrap:wrap; gap:var(--cpress-gap);
  max-width: calc(6 * var(--cpress-diagram) + 5 * var(--cpress-gap));
}
.cpress-diagram{ width:var(--cpress-diagram); height:auto; }
@media (max-width:600px){ .cpress{ --cpress-diagram:72px; } }

/* ========== Toolbar (clean + compact) ========== */
.cpress-toolbar{
  position:static;                /* no sticky */
  background:transparent;         /* clean page look */
  border:none;
  box-shadow:none;
  display:flex; flex-wrap:wrap; align-items:center; gap:.6rem .8rem;
  margin:.25rem 0 1rem;
  padding:0;
  font-size:.9rem;                /* smaller */
  line-height:1.2;
}
.cpress-toolbar .left,
.cpress-toolbar .right{display:flex;gap:.45rem;align-items:center;flex-wrap:wrap}
.cpress-toolbar select,
.cpress-toolbar button,
.cpress-toolbar label,
.cpress-toolbar input{font:inherit}

/* Key dropdown — minimal grey input */
.cpress-toolbar .cpress-key-select{
  -webkit-appearance:none; appearance:none;
  background:#f3f4f6;
  border:1px solid #d1d5db;
  border-radius:10px;
  padding:.45rem .65rem;
  line-height:1.2;
  outline:none;
}
.cpress-toolbar .cpress-key-select:hover{ background:#eceff3; }
.cpress-toolbar .cpress-key-select:focus{ box-shadow:0 0 0 2px rgba(59,130,246,.25); }

/* Spelling toggle — tiny segmented pair (BUTTED TOGETHER) */
.cpress-toolbar .cpress-spell{
  display:inline-flex; align-items:stretch; gap:0 !important; /* no space between buttons */
}
.cpress-toolbar .cpress-spell > span:first-child{
  display:inline-block; margin-right:.35rem; /* spacing after 'Spelling:' label */
}
.cpress-toolbar .cpress-spell button{
  background:#f3f4f6;
  border:1px solid #d1d5db;
  margin:0 !important;                 /* kill any theme margins */
  padding:.35rem .55rem;
  line-height:1;
  cursor:pointer;
}
.cpress-toolbar .cpress-spell .cpress-spell-flat{
  border-radius:8px 0 0 8px;
  border-right:0;                       /* share border with the next button */
}
.cpress-toolbar .cpress-spell .cpress-spell-sharp{
  border-radius:0 8px 8px 0;
  border-left:0;                        /* eliminate seam */
}
.cpress-toolbar .cpress-spell button:hover{ background:#e5e7eb; }
.cpress-toolbar .cpress-spell button.active{ background:#e5e7eb; }

/* Show diagrams / Nashville labels kept simple */
.cpress-toolbar .cpress-diag,
.cpress-toolbar .cpress-nash{
  display:inline-flex; align-items:center; gap:.35rem; color:#111827;
}

/* Transpose buttons — one grey segmented control */
.cpress-toolbar .cpress-btnrow{
  display:inline-flex; overflow:hidden;
  background:#f3f4f6;
  border:1px solid #d1d5db;
  border-radius:10px;
}
.cpress-toolbar .cpress-btnrow button{
  background:transparent; border:0; margin:0;
  padding:.45rem .65rem; line-height:1.1; cursor:pointer;
}
.cpress-toolbar .cpress-btnrow button + button{ border-left:1px solid #d1d5db; }
.cpress-toolbar .cpress-btnrow button:hover{ background:#e5e7eb; }
.cpress-toolbar .cpress-btnrow button:active{ background:#dfe3e8; }
.cpress-toolbar .cpress-btnrow button:focus{ outline:none; box-shadow:inset 0 0 0 2px rgba(59,130,246,.25); }

/* Top & bottom rows inside the toolbar */
.cpress-toolbar .cpress-top{
  display:flex; flex-wrap:wrap; align-items:center; gap:.6rem .8rem;
}
.cpress-toolbar .cpress-toggles{
  display:flex; align-items:center; gap:1rem; margin-top:.25rem;
}

/* ========== Print tweaks ========== */
@media print{
  .cpress-toolbar{display:none !important}
  .cpress{line-height:1.5}
  .cpress-diagram{width:72px}
  body{color:#000}
}
